<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="manifest" href="manifest.json">
<title>Burn %TBSA Estimator</title>
<style>
body { font-family: Arial, sans-serif; padding: 10px; }
input, select, button { width: 100%; margin: 5px 0; padding: 10px; }
</style>
</head>
<body>
<h2>ðŸ”¥ Burn %TBSA & Fluid Estimator</h2>
<form id="estimatorForm">
    <input type="number" name="age" placeholder="Age (years)" required>
    <input type="number" step="0.1" name="weight" placeholder="Weight (kg)" required>
    <select name="sex"><option>M</option><option>F</option></select>
    <input type="number" step="0.1" name="height" placeholder="Height (cm)" required>
    <input type="number" step="0.1" name="hours_since" placeholder="Hours since burn" required>
    <input type="number" step="10" name="fluids_given" placeholder="Fluids given (mL)" value="0">
    <label>Burn Image</label>
    <input type="file" name="burn_image" accept="image/*" capture="environment" required>
    <label>Palm Image (optional)</label>
    <input type="file" name="palm_image" accept="image/*" capture="environment">
    <label>Use Palmar Method?</label>
    <select name="use_palmar"><option value="true">Yes</option><option value="false">No</option></select>
    <label>Formula</label>
    <select name="formula"><option>Parkland</option><option>Modified Brooke</option></select>
    <button type="submit">Estimate</button>
</form>
<pre id="output"></pre>
<script>
document.getElementById('estimatorForm').addEventListener('submit', async (e) => {
  e.preventDefault();
  const formData = new FormData(e.target);
  const res = await fetch('/estimate', { method: 'POST', body: formData });
  document.getElementById('output').textContent = JSON.stringify(await res.json(), null, 2);
});
</script>
</body>
</html>
